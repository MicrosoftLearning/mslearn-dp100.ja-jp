---
lab:
  title: Azure Machine Learning ワークスペースの作成
ms.openlocfilehash: c2f33973281221da1a4871f19fbaff8f127d028f
ms.sourcegitcommit: 8601551af6c32a4c75fd9ecffce750583c2ab4b8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/01/2022
ms.locfileid: "141346680"
---
# <a name="create-and-explore-an-azure-machine-learning-workspace"></a>Azure Machine Learning ワークスペースを作成して探索する

この演習では、Azure Machine Learning ワークスペースを作成して説明します。

## <a name="create-an-azure-machine-learning-workspace"></a>Azure Machine Learning ワークスペースの作成

名前が示すように、ワークスペースは、機械学習プロジェクトで作業するために必要なすべての Azure ML 資産を管理するための一元的な場所です。

1. [Azure portal](https://portal.azure.com) で、次の設定を指定して新しい **Machine Learning** リソースを作成します。

    - **[サブスクリプション]**:"*ご自身の Azure サブスクリプション*"
    - **[リソース グループ]**: "*リソース グループを作成または選択します*"
    - **[ワークスペース名]**: "*ワークスペースの一意の名前を入力します*"
    - **[リージョン]**: "*最も近い地理的リージョンを選択します*"
    - **[ストレージ アカウント]**: "*ワークスペース用に作成される既定の新しいストレージ アカウントに注目します*"
    - **[キー コンテナー]**: "*ワークスペース用に作成される既定の新しいキー コンテナーに注目します*"
    - **[Application Insights]**: "*ワークスペース用に作成される既定の新しい Application Insights リソースに注目します*"
    - **[コンテナー レジストリ]**: なし ("*コンテナーにモデルを初めてデプロイするときに、自動的に作成されます*")

    > **注**:Azure Machine Learning ワークスペースを作成する場合、いくつかの高度なオプションを使用して、*プライベート エンドポイント* 経由のアクセスを制限し、データ暗号化用のカスタム キーを指定できます。 この演習ではこれらのオプションは使用しませんが、注意してください。

2. ワークスペースと関連リソースが作成されたら、ポータルでワークスペースを表示します。

## <a name="explore-azure-machine-learning-studio"></a>Azure Machine Learning Studio を探索する

Azure portal では、一部のワークスペース資産を管理できます。しかし、データ サイエンティストにとって、このツールには、Azure の一般的なリソースの管理に関連する多くの無関係な情報とリンクが含まれています。 *Azure Machine Learning Studio* は、ワークスペースで作業するための専用の Web ポータルを提供します。

1. Azure Machine Learning ワークスペース用の Azure portal ブレードで、リンクをクリックして、Studio を起動します。または、新しいブラウザーのタブで、[https://ml.azure.com](https://ml.azure.com) を開きます。 メッセージが表示されたら、前のタスクで使用した Microsoft アカウントを使用してサインインし、Azure サブスクリプションとワークスペースを選択します。

    > **ヒント** 複数の Azure サブスクリプションがある場合は、サブスクリプションが定義されている Azure *ディレクトリ* を選択する必要があります。次にサブスクリプションを選択し、最後にワークスペースを選択します。

2. ワークスペースの AAzure Machine Learning Studio インターフェイスを表示する - ワークスペース内のすべての資産をここから管理できます。
3. Azure Machine Learning Studio で、左上にある &#9776; アイコンを切り替えると、インターフェイス内のさまざまなページを表示したり非表示にしたりできます。 これらのページを使用して、ワークスペース内のリソースを管理できます。

## <a name="create-a-compute-instance"></a>コンピューティング インスタンスを作成する

Azure Machine Learning の利点の 1 つは、大規模に実験とトレーニング スクリプトを実行できるクラウドベースのコンピューティングを作成できることです。

1. Azure Machine Learning Studio で、**コンピューティング** ページを表示します。 ここで、データ サイエンス アクティビティのコンピューティング リソースを管理します。 作成できるコンピューティング リソースは 4 種類あります。
    - **コンピューティング インスタンス**:データ サイエンティストがデータおよびモデルを操作するために使用できる開発ワークステーション。
    - **コンピューティング クラスター**:実験コードをオンデマンドで処理するための、仮想マシンのスケーラブルなクラスター。
    - **推論クラスター**:トレーニング済みモデルを使用する予測サービスのデプロイ先。
    - **接続型コンピューティング**:Virtual Machines や Azure Databricks クラスターなど、その他の Azure コンピューティング リソースへのリンク。

    この演習では、ワークスペースでコードを実行できるようにコンピューティング インスタンスを作成します。

2. **コンピューティング インスタンス** タブで、次の設定を使用して新しいコンピューティング インスタンスを追加します。 これをワークステーションとして使用し、ノートブックでコードを実行します。
    - **[コンピューティング名]**: "*一意の名前を入力します*"
    - **[場所]** : *ワークスペースと同じ場所*
    - **[仮想マシンの種類]**: CPU
    - **仮想マシンのサイズ**:Standard_DS11_v2
    - **利用可能なクォータの合計**:使用できる専用コアが表示されます。
    - **詳細設定の表示**:次の設定に注意しますが、選択しないでください。 
        - **[Enable SSH access]\(SSH アクセスの有効化\)** : 未選択 *(これを使用して、SSH クライアントを使用した仮想マシンへの直接アクセスを有効にすることができます)*
        - **仮想ネットワークの有効化**:未選択 *(通常、これをエンタープライズ環境で使用してネットワーク・セキュリティを強化します)*
        - **他のユーザーへ割り当て**:オフにします *(データ サイエンティストにコンピューティング インスタンスを割り当てるために使用できます)* 。3. コンピューティング インスタンスが起動し、状態が "**実行中**" に変わるまで待ちます。

> **注**:コンピューティング インスタンスとクラスターは、標準の Azure 仮想マシン イメージに基づいています。 この演習では、コストとパフォーマンスの最適なバランスを実現するために、*Standard_DS11_v2* イメージが推薦されます。 サブスクリプションに、このイメージを含まないクォータが存在する場合は、代替イメージを選択します。ただし、大きなイメージはコストを上昇させる可能性があり、小さなイメージはタスクを完了するには十分でない可能性があることに注意してください。 または、Azure 管理者にクォータを拡張するように依頼します。

## <a name="clone-and-run-a-notebook"></a>ノートブックを複製して実行する

多くのデータ サイエンスや機械学習の実験は、*ノートブック* でコードを実行することによって行われます。 コンピューティング インスタンスには、大規模な作業に使用できる完全な機能を備えた Python ノートブック環境 (*Jupyter* と *JuypyterLab*) が含まれています。しかし、基本的なノートブックの編集には、Azure Machine Learning Studio に組み込まれている **[ノートブック]** ページを使用することができます。

1. Azure Machine Learning Studio で、**ノートブック** ページを表示します。
2. 新機能を説明するメッセージが表示された場合は、閉じてください。
3. **[ターミナル]** または **[ターミナルを開く]** アイコンを選択してターミナルを開き、その **[コンピューティング]** がコンピューティング インスタンスに設定されていること、また現在のパスが **/users/your-user-name** フォルダーであることを確認します。
4. 次のコマンドを入力して、ノートブック、データ、およびその他のファイルを含む Git リポジトリをワークスペースに複製します。

    ```bash
    git clone https://github.com/MicrosoftLearning/mslearn-dp100 mslearn-dp100
    ```

4. コマンドが完了したら、 **[ファイル]** ペインで **[&#8635;]** をクリックしてビューを更新し、新しい **/users/*your-user-name*/mslearn-dp100** フォルダーが作成されていることを確認します。 このフォルダーには、複数の **.ipynb** ノートブック ファイルが含まれています。
5. ターミナル ウィンドウを閉じ、セッションを終了します。
6. **/users/*your-user-name*/mslearn-dp100** フォルダーにある **Get Started with Notebooks (ノートブックの概要)** ノートブックを開きます。 次に、注意事項を読み、記載されている指示に従います。

> **ヒント**: コード セルを実行するには、実行するセルを選択し、 **&#9655;** ボタンを使用して実行します。 

> **Python 初心者の場合は**、 [Python チート シート](cheat-sheets/dp100-cheat-sheet-python.pdf)を参照すると、コードについて理解できます。

> **機械学習初心者の場合は**、 [機械学習の概要](cheat-sheets/dp100-cheat-sheet-machine-learning.pdf)のページを参照すると、Azure Machine Learning の機械学習プロセスの簡単な概要を把握できます。

## <a name="stop-your-compute-instance"></a>コンピューティング インスタンスを停止する

今のところ Azure Machine Learning の探索が終わっているのであれば、Azure サブスクリプションに不要な料金が発生しないように、コンピューティング インスタンスをシャット ダウンする必要があります。

1. Azure Machine Learning Studio の **コンピューティング** ページで、コンピューティング インスタンス を選択します。
2. **[停止]** をクリックしてコンピューティング インスタンスを停止します。 シャット ダウンされると、その状態は **停止済み** に変わります。

> **注**:コンピューティングを停止すると、サブスクリプションがコンピューティング リソースに対して課金されなくなります。 ただし、サブスクリプションに Azure Machine Learning ワークスペースが存在する限り、データ ストレージに対して少額が課金されます。 Azure Machine Learning の探索を完了したら、Azure Machine Learning ワークスペースとそれに関連付けられたリソースを削除できます。 ただし、このシリーズの他のラボを修了する場合は、このラボを繰り返して、ワークスペースを作成し、環境を準備する必要があります。
